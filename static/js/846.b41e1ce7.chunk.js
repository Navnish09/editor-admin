"use strict";(self.webpackChunkeditor_admin=self.webpackChunkeditor_admin||[]).push([[846],{5919:function(e,n,t){t.d(n,{r:function(){return o}});var r=t(885),i=t(2791),s=t(184),o=function(e){var n=e.show,t=e.children,o=e.animateIn,u=void 0===o?"fadeIn":o,c=e.animateOut,a=void 0===c?"fadeOut":c,l=(0,i.useState)(!1),d=(0,r.Z)(l,2),f=d[0],m=d[1];(0,i.useEffect)((function(){n&&m(n)}),[n]);return(0,s.jsx)(s.Fragment,{children:f&&(0,s.jsx)("div",{className:n?u:a,onAnimationEnd:function(){!n&&m(!1)},children:t})})}},7073:function(e,n,t){t.d(n,{z:function(){return o}});var r=t(1413),i=(t(2791),t(3463)),s=t(184),o=function(e){var n=e.isOpen,t=e.content,o=e.title,u=e.footerButtons,c=e.toggle,a=e.size,l=void 0===a?"md":a,d=e.centered,f=void 0!==d&&d;return(0,s.jsx)("div",{children:(0,s.jsxs)(i.u_,{isOpen:n,toggle:c,size:l,centered:f,keyboard:!0,unmountOnClose:!0,children:[o&&(0,s.jsx)(i.xB,{toggle:c,children:o}),(0,s.jsx)(i.fe,{children:t}),u&&(0,s.jsx)(i.mz,{children:null===u||void 0===u?void 0:u.map((function(e){return(0,s.jsx)(i.zx,(0,r.Z)((0,r.Z)({},e),{},{children:e.text}),e.text)}))})]})})}},4323:function(e,n,t){t.d(n,{rs:function(){return r.r},l0:function(){return f},zS:function(){return m.z},ac:function(){return j}});var r=t(5919),i=t(2791),s=t(184),o=t(1413),u=t(5987),c=t(3463),a=t(5290),l=["label","name","type"],d=["ref","onChange"],f=(0,i.forwardRef)((function(e,n){var t=e.configs,r=e.validationSchemas,f=e.defaultValues,m=e.onInputChange,h=e.onValidationChange,x=t.fields,v=t.id,g=f||x.reduce((function(e,n){return e[n.name]="",e}),{}),p=(0,a.cI)({mode:"onChange",defaultValues:g}),j=p.formState,b=j.errors,w=j.isValid,Z=p.control,y=p.getValues,S=p.handleSubmit,_=p.reset;return(0,i.useImperativeHandle)(n,(function(){return{getValues:y,handleSubmit:function(e){return S(e)()},reset:_}}),[y,S]),(0,i.useEffect)((function(){null===h||void 0===h||h(w)}),[w]),(0,s.jsx)("div",{id:v,children:x.map((function(e){var n,t,i=e.label,f=e.name,h=e.type,x=(0,u.Z)(e,l);return(0,s.jsxs)(c.cw,{children:[(0,s.jsxs)(c.__,{for:f,children:[i," ",null!==(n=r[f])&&void 0!==n&&n.required?(0,s.jsx)("span",{className:"text-danger fw-bold",children:"*"}):""]}),(0,s.jsx)(a.Qr,{name:f,control:Z,rules:r[f],render:function(e){var n,t=e.field,r=t.ref,i=t.onChange,a=(0,u.Z)(t,d);return(0,s.jsx)(c.II,(0,o.Z)((0,o.Z)((0,o.Z)({id:f,innerRef:r,type:h||"text",invalid:!!b[f],valid:!!y()[f]&&!b[f],onChange:function(e){i(e),null===m||void 0===m||m(e)}},x),a),{},{children:"select"===h?null===(n=x.options)||void 0===n?void 0:n.map((function(e){return(0,s.jsx)("option",{value:"".concat(e.id),children:e.label},e.id)})):null}))}}),(0,s.jsx)(c.AG,{children:"".concat(null===(t=b[f])||void 0===t?void 0:t.message)})]},f)}))})})),m=t(7073),h=function(e){var n=e.data,t=e.columns,r=e.templates;return(0,s.jsx)("tbody",{children:n.map((function(e,n){var i=t.map((function(e){return e.accessor}));return(0,s.jsx)("tr",{className:"border-top",children:i.map((function(i,u){var c;return(0,s.jsx)("td",{className:"align-middle",style:(0,o.Z)({width:t[u].width,minWidth:t[u].minWidth||"auto",maxWidth:t[u].maxWidth||"auto",textAlign:t[u].align||"left"},t[u].grow?{flexGrow:1}:{}),children:e[i]||null!==r&&void 0!==r&&r[i]?(null===r||void 0===r||null===(c=r[i])||void 0===c?void 0:c.call(r,(0,o.Z)((0,o.Z)({},e),{},{index:n})))||e[i]:null},"".concat(u,"-").concat(i))}))},n)}))})},x=function(e){var n=e.columns;return(0,s.jsx)("thead",{children:(0,s.jsx)("tr",{children:n.map((function(e,n){return(0,s.jsx)("th",{style:(0,o.Z)({width:e.width||"auto",textAlign:e.align||"left"},e.grow?{flexGrow:1}:{}),className:"border-0 font-medium",children:e.Header},"".concat(n,"-").concat(e.accessor))}))})})},v=function(e){var n=e.title,t=e.subtitle;return(0,s.jsxs)(s.Fragment,{children:[n&&(0,s.jsx)(c.ll,{tag:"h5",children:n}),t&&(0,s.jsx)(c._R,{className:"mb-2 text-muted",style:{fontSize:"0.9rem"},tag:"p",children:t})]})},g=function(){return(0,s.jsx)("div",{className:"d-flex justify-content-center align-items-center",children:(0,s.jsx)(c.$j,{color:"secondary"})})},p=function(e){var n=e.message;return(0,s.jsx)("div",{className:"d-flex justify-content-center align-items-center",children:(0,s.jsx)("h5",{children:n})})},j=function(e){var n=e.columns,t=e.data,r=e.templates,i=e.configs,o=e.loading,u=e.rowHover,a=void 0===u||u,l=(null===i||void 0===i?void 0:i.title)||(null===i||void 0===i?void 0:i.subtitle);return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(c.Zb,{children:(0,s.jsxs)(c.eW,{className:"overflow-auto",children:[(0,s.jsx)(v,{title:(null===i||void 0===i?void 0:i.title)||"",subtitle:(null===i||void 0===i?void 0:i.subtitle)||""}),(0,s.jsx)(c.iA,{className:"no-wrap ".concat(l?"mt-3":"mb-0"," align-middle"),borderless:!0,hover:a,children:o?(0,s.jsx)(g,{}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(x,{columns:n}),(null===t||void 0===t?void 0:t.length)>0&&(0,s.jsx)(h,{data:t,columns:n,templates:r,loading:o})]})})]})}),0===t.length&&!o&&(0,s.jsx)(p,{message:null===i||void 0===i?void 0:i.noDataMessage})]})}},6881:function(e,n,t){t.d(n,{D:function(){return r}});var r=function(e){return"".concat("https://easy-polo-shirt-slug.cyclic.app").concat(e)}},3294:function(e,n,t){t.d(n,{Z:function(){return r}});var r={all_questions:"All Questions",confirm:"Confirm",create_question:"Create Question",create_new_question:"Create New Question",no_questions:"No Questions",submitted_code:"Submitted Code",submission_delete_confirm:"Are you sure you want to delete this submission?",question_created:"Question created",question_delete_confirm:"Are you sure you want to delete this question?"}},9846:function(e,n,t){t.r(n),t.d(n,{Submissions:function(){return Z},default:function(){return y}});var r=t(4165),i=t(5861),s=t(885),o=t(2791),u=t(3463),c=t(7770),a=t(777),l=t(8207),d=t(6881),f=t(1508).H,m=function(){var e=(0,i.Z)((0,r.Z)().mark((function e(){var n,t;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=(0,d.D)(f.getSubmissions),e.next=3,fetch(n);case 3:return t=e.sent,e.next=6,t.json();case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),h=function(){var e=(0,i.Z)((0,r.Z)().mark((function e(n){var t,i;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=(0,d.D)(l.Z.render(f.deleteSubmission,{id:n})),e.next=3,fetch(t,{method:"DELETE"});case 3:return i=e.sent,e.next=6,i.json();case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),x=t(4323),v=t(3294),g=JSON.parse('{"r":{"title":"Submissions","subtitle":"Code submissions by students"},"z":[{"Header":"ID","accessor":"_id","width":150},{"Header":"Name","accessor":"name","width":250,"grow":true},{"Header":"Email","accessor":"email","width":300,"grow":true},{"Header":"Code","accessor":"code","width":60,"grow":true},{"Header":"Actions","accessor":"actions","width":95,"align":"center"}]}'),p=t(7073),j=t(184),b=function(e){var n=e.row,t=e.onDelete,u=o.useState(!1),c=(0,s.Z)(u,2),a=c[0],l=c[1],d=o.useState(!1),f=(0,s.Z)(d,2),m=f[0],x=f[1],g=function(){var e=(0,i.Z)((0,r.Z)().mark((function e(){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,x(!0),e.t0=n._id,!e.t0){e.next=6;break}return e.next=6,h(n._id);case 6:t(),l(!1),e.next=13;break;case 10:e.prev=10,e.t1=e.catch(0),console.log(e.t1);case 13:return e.prev=13,x(!1),e.finish(13);case 16:case"end":return e.stop()}}),e,null,[[0,10,13,16]])})));return function(){return e.apply(this,arguments)}}(),b=[{text:"Cancel",color:"secondary",disabled:m,onClick:function(){return l(!1)}},{text:m?"Deleting...":"Delete",color:"danger",disabled:m,onClick:g}];return(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(p.z,{isOpen:a,size:"md",centered:!0,title:v.Z.confirm,toggle:function(){return l((function(e){return!e}))},content:v.Z.submission_delete_confirm,footerButtons:b}),(0,j.jsx)("div",{className:"d-flex align-items-center justify-content-center",children:(0,j.jsx)("span",{className:"text-danger delete-Icon",onClick:function(){return l(!0)},children:(0,j.jsx)("i",{className:"bi bi-trash3-fill"})})})]})},w=function(e){var n=e.code,t=e.language;return(0,j.jsx)("div",{style:{maxHeight:"80vh"},children:(0,j.jsx)(c.Z,{language:t||"solidity",style:a.Z,wrapLongLines:!0,children:n})})},Z=function(){var e=(0,o.useState)([]),n=(0,s.Z)(e,2),t=n[0],c=n[1],a=(0,o.useState)(),l=(0,s.Z)(a,2),d=l[0],f=l[1],h=(0,o.useState)(!1),p=(0,s.Z)(h,2),Z=p[0],y=p[1],S=(0,o.useState)(!0),_=(0,s.Z)(S,2),C=_[0],N=_[1],k=(0,o.useState)(!1),z=(0,s.Z)(k,2),Q=z[0],H=z[1],D=g.r,A=g.z,I={code:function(e){return(0,j.jsx)(u.zx,{outline:!0,size:"sm",onClick:function(){return function(e){y(!0),f(e)}(e)},children:"View"})},actions:function(e){return(0,j.jsx)(b,{row:e,onDelete:function(){return H((function(e){return!e}))}})}};return(0,o.useEffect)((function(){!C&&N(!0),(0,i.Z)((0,r.Z)().mark((function e(){var n;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,m();case 3:n=e.sent,c(n),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:return e.prev=10,N(!1),e.finish(10);case 13:case"end":return e.stop()}}),e,null,[[0,7,10,13]])})))()}),[Q]),(0,j.jsxs)(x.rs,{show:!0,children:[(0,j.jsx)(x.zS,{isOpen:Z,size:"lg",content:(0,j.jsx)(w,{code:(null===d||void 0===d?void 0:d.code)||"",language:null===d||void 0===d?void 0:d.language}),title:v.Z.submitted_code,toggle:function(){return y(!1)}}),(0,j.jsx)(u.X2,{children:(0,j.jsx)(u.JX,{lg:"12",children:(0,j.jsx)(x.ac,{configs:D,columns:A,data:t,templates:I,loading:C})})})]})},y=Z},1508:function(e){e.exports=JSON.parse('{"H":{"getSubmissions":"/getSubmissions","deleteSubmission":"/deleteSubmission?id={{id}}"},"X":{"getQuestions":"/getQuestions","createQuestion":"/createQuestion","deleteQuestion":"/deleteQuestion"}}')}}]);
//# sourceMappingURL=846.b41e1ce7.chunk.js.map